<view class="page" wx:if="{{room}}">
  <view class="card">
    <view>æˆ¿é—´ {{room.id}} | åº•æ±  {{room.pot}}</view>
    <view>è½®åˆ°ï¼š{{room.players[room.currentTurn].nickName}}</view>
    <view>é˜¶æ®µï¼š{{room.stage}}</view>
  </view>

  <view class="players">
    <view class="player card pixel" wx:for="{{room.players}}" wx:key="id" bindtap="onTapPlayer" data-player-id="{{item.id}}">
      <image class="avatar" src="{{item.avatarUrl}}"></image>
      <view>{{item.nickName}} (Seat {{item.seat}})</view>
      <view>ç­¹ç ï¼š{{item.chips}}</view>
      <view wx:if="{{item.folded}}">å·²å¼ƒç‰Œ</view>
      <view wx:if="{{item.allIn}}">ALL-IN</view>
    </view>
  </view>

  <view class="card">
    <view>ä¸‹æ³¨ç­¹ç ï¼ˆç‚¹å‡»å åŠ ï¼‰</view>
    <view class="chip-row">
      <button wx:for="{{chipOptions}}" wx:key="*this" data-chip="{{item}}" bindtap="onPickChip">+{{item}}</button>
    </view>
    <view>å½“å‰åŠ æ³¨é¢ï¼š{{raiseAmount}}</view>
    <view animation="{{chipAnimData}}" class="chip-anim">ğŸª™</view>
  </view>

  <view class="card actions">
    <button bindtap="onCheck">Check</button>
    <button class="btn-warn" bindtap="onRaise">Raise</button>
    <button bindtap="onFold">Fold</button>
  </view>

  <view class="card" wx:if="{{isOwner}}">
    <view>æˆ¿ä¸»ç»“ç®—ï¼šå‹¾é€‰èµ¢å®¶ååˆ†æ± </view>
    <checkbox-group bindchange="onWinnerChange">
      <label wx:for="{{room.players}}" wx:key="id" class="winner-item">
        <checkbox value="{{item.id}}" />{{item.nickName}}
      </label>
    </checkbox-group>
    <button class="btn-primary" bindtap="onSettle">ç»“ç®—æœ¬å±€</button>
  </view>
</view>
